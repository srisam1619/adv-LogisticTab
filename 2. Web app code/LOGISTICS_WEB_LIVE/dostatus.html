<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Logistics | DO Status</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&subset=latin,cyrillic-ext" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type="text/css">
	 <link href="css/font-awesome.css" rel="stylesheet" type="text/css">
	 
	
	
	

    <!-- Bootstrap Core Css -->
    <link href="plugins/bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- Waves Effect Css -->
    <link href="plugins/node-waves/waves.css" rel="stylesheet" />

    <!-- Animation Css -->
    <link href="plugins/animate-css/animate.css" rel="stylesheet" />

    <!-- Morris Chart Css-->
    <link href="plugins/morrisjs/morris.css" rel="stylesheet" />

    <!-- Custom Css -->
    <link href="css/style.css" rel="stylesheet">

    <!-- AdminBSB Themes. You can choose a theme from css/themes instead of get all themes -->
    <link href="css/themes/all-themes.css" rel="stylesheet" />
	
	
	
   <script src="plugins/jquery/jquery.min.js"></script>
    <script src="js/libs/angular.js"></script>
	<script src="js/libs/angular-sanitize.js"></script>
      <script src="js/libs/angular-route.js"></script>
     <script src="js/libs/angular-ui-router.js"></script>
    <script src="js/libs/ocLazyLoad.js"></script>
    <script src="js/libs/ui-bootstrap.js"></script>
    <script src="js/libs/ui-bootstrap-tpls-0.9.0.js"></script>
    <script src="js/libs/angular-cookies.js"></script>

<script src="js/libs/moment.js"></script>


 
	
	

<!-- angular js -->

    <script src="js/config/app.js"></script>
    <script src="js/services/util_factory.js" ></script>
	<script src="js/ctrl/Dostatus_ctrl.js" ></script>

</head>

<body class="theme-purple"  ng-app="myApp" ng-controller="Dostatus_ctrl">
<div class="loader" data-loadingss id="loadingss"><i class="fa fa-refresh fa-spin fa-fw"></i> Loading...</div>
	<!-- Top Bar -->
    <nav class="navbar bgheadergrate">
        <div class="container-fluid">
            <div class="navbar-header">
                <a href="javascript:void(0);" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false"></a>
                <a href="javascript:void(0);" class="bars"></a>
                <a class="navbar-brand" href="index.html">ADVENTUS</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <!-- Call Search -->
                    <li> <a href="login.html" style="text-decoration:none;" ><button class="btn-default btn"><i class="fa fa-hand-o-left" aria-hidden="true"></i>  &nbsp; logout</button></a></li>
					<li> <a href="users.html" style="text-decoration:none;" ><button class="btn-default btn"><i class="fa fa-id-card-o" aria-hidden="true"></i>  &nbsp; Drivers</button></a></li>
					
					<li> <a href="index.html" style="text-decoration:none;" ><button class="btn-default btn"><i class="fa fa-home" aria-hidden="true"></i>  &nbsp; Home</button></a></li>
                    <!-- #END# Call Search -->
                    <!-- Notifications -->
                    
                    <!-- #END# Notifications -->
                    <!-- Tasks -->
                    
                    <!-- #END# Tasks -->
                    
                </ul>
            </div>
        </div>
    </nav>
    <!-- #Top Bar -->
	
	<section class="content">
        <div class="container-fluid">
           
		
            <!-- #END# CPU Usage -->
            

            <div class="row clearfix">
                <!-- Task Info -->
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <div class="card">
                        <div class="header" style="height:60px;">
                            <div class="col-lg-6 col-sm-6"><strong>Delivery Status (For Deals)</strong></div>
							 
							 
							 <div class="col-lg-1 pull-right"><button class="btn-success btn" ng-click="Arrived();"><i class="fa fa-truck" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp; Arrived</button></div>
							 
                            
                        </div>
                        <div class="body" >
                            <div class="table-responsive">
					<div class="col-lg-6">
							<div class="col-lg-12 col-sm-12"><div class="form-group">
                        <label for="inputEmail3" class="col-sm-5 control-label">
                            Arrival Time:
                        </label>
                        <div class="col-sm-7 nbp">
                            <input type="text" class="form-control"  ng-model='Header.ArrivalTime'  ng-disabled="disable"  />
                        </div>
                    </div></div>
							<div class="col-lg-12 col-sm-12"><div class="form-group">
                        <label for="inputEmail3" class="col-sm-5 control-label">
                            Type:
                        </label>
                        <div class="col-sm-7 nbp">
                            <input type="text" class="form-control " ng-model='Header.TYPE' ng-disabled="disable"    />
                        </div>
                    </div></div>
							<div class="col-lg-12 col-sm-12"><div class="form-group">
                        <label for="inputEmail3" class="col-sm-5 control-label">
                            Document :
                        </label>
                        <div class="col-sm-7 nbp">
                            <input type="text" class="form-control "  ng-model='Header.DocNum' ng-disabled="disable"  />
                        </div>
                    </div></div>
					<div class="col-lg-12 col-sm-12"><div class="form-group">
                        <label for="inputEmail3" class="col-sm-5 control-label">
                            Customer :
                        </label>
                        <div class="col-sm-7 nbp">
                            <input type="text" class="form-control "   ng-model='Header.CustomerName' ng-disabled="disable"   />
                        </div>
                    </div></div>
					<div class="col-lg-12 col-sm-12"><div class="form-group">
                        <label for="inputEmail3" class="col-sm-5 control-label">
                            Contact Person / Contact Number  :
                        </label>
                        <div class="col-sm-7 nbp">
                            <input type="text" class="form-control "  ng-model='Header.ContactPerson' ng-disabled="disable"   />
                        </div>
                    </div></div>
					
					<div class="col-lg-12 col-sm-12"><div class="form-group">
                        <label for="inputEmail3" class="col-sm-5 control-label">
                            Email Address :
                        </label>
                        <div class="col-sm-7 nbp">
                            <input type="text" class="form-control "  ng-model='Header.Email' ng-disabled="disable"   />
                        </div>
                    </div></div>
					
					</div>
					
					
					<div class="col-lg-6">	
							<div class="col-lg-12 col-sm-12"><div class="form-group">
								<label for="inputEmail3" class="col-sm-5 control-label">
									Arrival Date:
								</label>
								<div class="col-sm-7 nbp">
									<input type="text" class="form-control datepickerddd"  ng-model='Header.ArrivalDate' ng-disabled="disable"   />
								</div>
							</div></div>
							<div class="col-lg-12 col-sm-12"><div class="form-group">
								<label for="inputEmail3" class="col-sm-5 control-label">
									Document Remarks:
								</label>
								<div class="col-sm-7 ">
									<textarea class="form-control"  ng-model="Header.Remarks" ng-disabled="disable"  ></textarea>
								</div>
							</div></div>
							<div class="col-lg-12 col-sm-12"><div class="form-group">
								<label for="inputEmail3" class="col-sm-5 control-label">
									Priority :
								</label>
								<div class="col-sm-7">
									 <input type="text" class="form-control "   ng-model='Header.Priority' ng-disabled="disable"  />
								</div>
							</div></div>
							<div class="col-lg-12 col-sm-12"><div class="form-group">
								<label for="inputEmail3" class="col-sm-5 control-label">
									Lift Access :
								</label>
								<div class="col-sm-7">
								<div class="col-sm-7">
									 <span ng-if="Header.LiftAccess=='Yes'"><strong>YES</strong></span>
									 <span ng-if="Header.LiftAccess!='Yes'"><strong>NO</strong></span>
								</div>
								
									 <!--<div class="switch panel-switch-btn" style="top: 0px; ">
                                    
                                    <label>NO<input type="checkbox" ng-disabled="disable"   ng-true-value="Yes"
       ng-false-value="No" ng-model="" id="realtime" checked><span class="lever switch-col-cyan"></span>YES</label>
                                </div>-->
								</div>
							</div></div>
							<div class="col-lg-12 col-sm-12"><div class="form-group">
								<label for="inputEmail3" class="col-sm-5 control-label">
									Additional Driver 1 :
								</label>
								<div class="col-sm-7 nbp">
									<select class="form-control" ng-options="item.DriverName as item.DriverName for item in DriverList track by item.DriverId" ng-change="checkDriver();" ng-model="Header.Driver1">
									<option value="">-- select --</option>
							</select>

								</div>
							</div></div>
							<div class="col-lg-12 col-sm-12"><div class="form-group">
								<label for="inputEmail3" class="col-sm-5 control-label">
									Additional Driver 2 :
								</label>
								<div class="col-sm-7 nbp">
								<select class="form-control" ng-options="item.DriverName as item.DriverName for item in DriverList track by item.DriverId" ng-change="checkDriver();" ng-model="Header.Driver2"><option value="">-- select --</option>
							</select>
								</div>
							</div></div>
					</div>
                                
					
					
                            </div>
							
							<div class="row">
							<p><strong>Delivery Details</strong></p>
                            <div style="width: 100%;overflow: auto;">
							<table width="100%" border="0" cellspacing="0" cellpadding="0" class="table-bordered table table-responsive">
  <tr style="background:#FFCC00;color:#000000;font-weight:bold;">
    <td>Item Code</td>
    <td>Item Description</td>
    <td>Qty</td>
    <td>DO Qty</td>
    <td>Serial No.</td>
    <td>Delivery Status</td>
	 <td></td>
    <td>Remarks</td>
  </tr>
  <tr style="background:#666666;color:#FFFFFF;font-weight:bold;" ng-repeat="i in Items">
    <td>{{i.ItemCode}}</td>
    <td ng-init="i.ItemDescription=i.ItemName">{{i.ItemDescription}}</td>
    <td>{{i.Quantity}}</td>
    <td><input class="form-control" ng-init="i.DOQty = i.Quantity" ng-model="i.DOQty" /></td>
    <td>{{i.SerialNum}}</td>
    <td ng-init="i.DeliveryStatus='Closed'">
	
	
	<select class="form-control" ng-options="item as item.Id for item in DeliveryStatusList track by item.Id"  ng-model="i.DeliveryStatus">
							</select>
	</td>
	 <td><button class="btn-default btn" ng-click="applytoall(i.DeliveryStatus);">Apply To all</button></td>
    <td ng-init="i.Remarks=''"><input class="form-control" ng-model="i.Remarks" /></td>
  </tr>
  
  
</table>
</div>

							
							</div>
							
							<div class="row">
							<p><strong>Additional Collected Qty</strong></p>
                            <div style="width: 100%;overflow: auto;">
							<table width="100%" border="0" cellspacing="0" cellpadding="0" class="table-bordered table table-responsive">
  <tr style="background:#FFCC00;color:#000000;font-weight:bold;">
    <td ></td>
    <td ></td>
    <td >Item Code</td>
    <td width="34%">Item Description</td>
    <td width="7%">Qty</td>
    <td width="30%">Item Condition</td>
  </tr>
  <tr ng-repeat="A in AdditionalItems" >
    <td width="5%"><button class="btn btn-danger" ng-click="delAitem($index);"><i class="fa fa-trash-o" aria-hidden="true"></i></button></td>
    <td width="5%">{{$index+1}}</td>
    <td width="24%">{{A.ItemCode}}</td>
    <td>{{A.ItemDescription}}</td>
    <td><input type="text" ng-model="A.Qty" class="form-control" /></td>
    <td><select class="form-control" ng-model="A.ItemCondition">
		<option value="">-- Select --</option>
		<option value="New">New</option>
		<option value="Faulty">Faulty</option>
		<option value="Used">Used</option>
	</select></td>
  </tr>
  <tr  >
    <td colspan="6" align="center"><button class="btn-success btn" ng-click="AIpopup();"><i class="fa fa-plus" aria-hidden="true" style="cursor:pointer" ></i> Add Item</button></td>
    </tr>
</table>
</div>
							
							</div>
							
							<div class="row">
								<div class="col-lg-6">	
									<div class="col-lg-12 col-sm-12"><div class="form-group">
								<label for="inputEmail3" class="col-sm-5 control-label">
									Supplies Page Printed :
								</label>
								<div class="col-sm-7 nbp">
									 <div class="switch panel-switch-btn" style="top: 0px; ">
                                    
                                    <label>NO<input type="checkbox" id="realtime" checked="checked" ><span class="lever switch-col-cyan"></span>YES</label> 
                                </div>
								</div>
							</div></div>
							<div class="col-lg-12 col-sm-12"><div class="form-group">
								<label for="inputEmail3" class="col-sm-5 control-label">
									Customer Signatory 
								</label>
								<div class="col-sm-7 nbp">
									 <span class="badge label label-warning" style="line-height:20px;width:150px;cursor:pointer;" ng-click="getDoCusData();">Copy from DO<br/> Customer Contact Details</span>&nbsp&nbsp
									  <span class="badge label label-info" style="line-height:20px;width:145px;cursor:pointer;" ng-click="getCusData();">Contact Person <br/>List</span><br/>
								</div>
							</div></div>
							
							<div class="col-lg-12 col-sm-12" style="margin-top: 10px;"><div class="form-group">
								<label for="inputEmail3" class="col-sm-5 control-label">
									Recipient Name:
								</label>
								<div class="col-sm-7 nbp">
									<input type="text" class="form-control" ng-init="Header.RecipientName = (Header.RecipientName===undefined)? '':Header.RecipientName"  ng-model='Header.RecipientName'  />
								</div>
							</div></div>
							<div class="col-lg-12 col-sm-12"><div class="form-group">
								<label for="inputEmail3" class="col-sm-5 control-label">
									Recipient Email:
								</label>
								<div class="col-sm-7 nbp">
									<input type="text" class="form-control"  ng-init="Header.RecipientEmail = (Header.RecipientEmail===undefined)? '':Header.RecipientEmail"   ng-model='Header.RecipientEmail'   />
								</div>
							</div></div>
							
							
							
									
								</div>
								<div class="col-lg-6">	
									<div class="col-lg-12 col-sm-12"><div class="form-group">
								<label for="inputEmail3" class="col-sm-5 control-label">
									Attachments :
								</label>
								<div class="col-sm-7 nbp">
								<button class="btn btn-primary" ng-click="addAttchment();"> <i class="fa fa-camera fa-3x" aria-hidden="true"></i> Attachments</button>
									 
								</div>
							</div></div>
							<div class="col-lg-12 col-sm-12"><div class="form-group">
								<label for="inputEmail3" class="col-sm-5 control-label">
									Recipient Signature :
								</label>
								<div class="col-sm-7" style="padding-left:0px;">
								<button class="btn-danger btn pull-right" onclick="clearSJdata();">Clear</button>
									<div id="signature" style="border:solid 1px #CCCCCC;"></div>
								</div>
							</div></div>
							
							
									
								</div>
								
								
								
							</div>
							
							<div class="row" style="margin-top:30px;">
					
					<div class="col-lg-6"><a href="index.html"><button class="btn-default btn-lg" style="width:100%"><i class="fa fa-ban" aria-hidden="true"></i> Cancel</button></a> </div>
					<div class="col-lg-6"> <button ng-click="SaveDoData();" class="btn-warning btn-lg" style="width:100%"><i class="fa fa-check" aria-hidden="true"></i> Delivery Completed</button></div>
				</div>
                        </div>
                    </div>
                </div>
				
				
                <!-- #END# Task Info -->
               
            </div>
			
			
        </div>
    </section>
</body>
  <!-- Jquery Core Js -->
    <script src="plugins/jquery/jquery.min.js"></script>
	<link href="css/jquery.orderable.css" rel="stylesheet">
<script src="js/jquery.orderable.js"></script>
<!--[if lt IE 9]>
	<script type="text/javascript" src="js/libs/flashcanvas.js"></script>
	<![endif]-->
	<script src="js/libs/jSignature.min.js"></script>
<script>
	    $(document).ready(function() {
	        $("#signature").jSignature({ lineWidth: 1, width: 300, height: 150 });
	    })
		
		function clearSJdata()
		{
			$("#signature").jSignature("clear");
		
		}
		
		function getSJdata ()
		{
		var $sigdiv = $("#signature")
		//$sigdiv.jSignature({'UndoButton':true});
		
		
		//$sigdiv.jSignature() // inits the jSignature widget.
		//$sigdiv.jSignature("reset") // clears the canvas and rerenders the decor on it.

	
	var datapair = $sigdiv.jSignature("getData") ;
	var partsOfStr = datapair.split(',');
	//console.log(datapair);
	//var i = new Image()
	//i.src = "data:" + datapair[0] + "," + datapair[1] 
	//$(i).appendTo($("#someelement") // append the image (SVG) to DOM.

	// Getting signature as "base30" data pair
	// array of [mimetype, string of jSIgnature"s custom Base30-compressed format]
	//datapair = $sigdiv.jSignature("getData","base30") 
	// reimporting the data into jSignature.
	// import plugins understand data-url-formatted strings like "data:mime;encoding,data"
	//$sigdiv.jSignature("setData", "data:" + datapair.join(",")) 
	return partsOfStr[1];
		}
	</script>
    <!-- Bootstrap Core Js -->
    <script src="plugins/bootstrap/js/bootstrap.js"></script>
	
	

<!-- CusDataModal -->
<div id="CusDataModal" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg">

    <!-- Modal content-->
    <div class="modal-content" >
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Email List</h4>
      </div>
      <div class="modal-body" style="overflow: auto; max-height: 400px;">
        <table width="100%" border="0" cellspacing="5" cellpadding="5" class="table table-striped table-responsive" >
  <tr style="background:#990066;color:#FFFFFF">
    <th>No</th>
    <th>Name</th>
    <th>Email</th>
    <th>Action</th>
  </tr>
   <tr style="background:#990066;color:#000000">
    <th></th>
    <th><input ng-model="sCText.RcpName"  placeholder="Enter to Seach"  /></th>
    <th><input ng-model="sCText.RcpEmail"  placeholder="Enter to Seach"  /></th>
    <th></th>
  </tr>
  <tr ng-repeat="d in CusData | filter:sCText">
    <td>{{$index+1}}</td>
    <td>{{d.RcpName}}</td>
    <td>{{d.RcpEmail}}</td>
    <td><button class="btn-info btn" ng-click="setCusData(d.RcpName,d.RcpEmail);">Select</button></td>
  </tr>
 
</table>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>


<!-- Modal -->
<div id="AIpopup" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg">

    <!-- Modal content-->
    <div class="modal-content" >
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Item Listing</h4>
      </div>
      <div class="modal-body" style="overflow: auto; max-height: 400px;">
        <table width="100%" border="0" cellspacing="5" cellpadding="5" class="table table-striped table-responsive" >
  <tr style="background:#990066;color:#FFFFFF">
    <th>No</th>
    <th>Item Code</th>
    <th>Item Name</th>
    <th>Action</th>
  </tr>
   <tr style="background:#990066;color:#000000">
    <th></th>
    <th><input ng-model="searchText.ItemCode"  placeholder="Enter to Seach"  /></th>
    <th><input ng-model="searchText.ItemName"  placeholder="Enter to Seach"  /></th>
    <th></th>
  </tr>
   <tr >
    <td></td>
    <td><input ng-model="DItemCode" placeholder="User Data" class="form-control" style="background-color: rgba(255, 237, 0, 0.51);color:#000000;" /></td>
    <td><input ng-model="DItemName" placeholder="User Data" class="form-control" style="background-color: rgba(255, 237, 0, 0.51);color:#000000;"  /></td>
    <td><button class="btn-info btn" ng-click="setAIteam(DItemCode,DItemName);">Select</button></td>
  </tr>
  
  
  <tr ng-repeat="d in AIMaster | filter:searchText">
    <td>{{$index+1}}</td>
    <td>{{d.ItemCode}}</td>
    <td>{{d.ItemName}}</td>
    <td><button class="btn-info btn" ng-click="setAIteam(d.ItemCode,d.ItemName);">Select</button></td>
  </tr>
 
</table>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>


<!-- Attachment Modal -->
<div id="AttchmentModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title"><i class="fa fa-truck" aria-hidden="true"></i> Attchment</h4>
      </div>
      <div class="modal-body">
        


<div class="col-lg-12" ng-show="Fileloading">
                    <div class="form-group">
                        
                        <div class="col-sm-12">
						 <form method="post" id="fileinfo" name="fileinfo">
           <div class="col-lg-8"><input type="file" id="fileopen" file-model="myFile" class="form-control"/></div>                
     

<div class="col-lg-4 pull-right"><button ng-click="uploadFile();" class="btn-success btn" > Upload&hellip; </button></div>

 </form>
                           
                        </div>
                    </div>
                  
                   
                </div>
                <div class="col-lg-12" ng-hide="Fileloading"><div class="progress" style="height:40px;">
    <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%;font-size:20px;line-height:25px;">
      Loading...
    </div>
  </div></div>
  
  <table style="margin-top:60px;" width="100%" border="0" cellspacing="0" cellpadding="0" class="table-bordered table">
  <tr style="background:#333333;color:#FFFFFF;">
    <th>No</th>
    <th>File Name</th>
    <th>File Path</th>
  </tr>
  <tr ng-repeat="d in AttachmentData">
    <td>{{$index+1}}</td>
    <td><a download href="{{Host}}TempAttachments/{{d.FileName}}.{{d.FileExtension}}">{{d.FileName}}</a></td>
    <td>{{d.FilePath}}</td>
  </tr>
</table>

      </div>
      <div class="modal-footer">
        <button class="btn btn-default" data-dismiss="modal" > X Close </button>
      </div>
    </div>

  </div>
</div>

</html>
